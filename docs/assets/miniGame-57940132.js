import{_,d as S,r as i,o as L,c as V,b as s,w as o,e as m,v as D,F as M,f as p,g as B,h as C,a as r,t as W}from"./index-10be46bd.js";const k=S({data(){const t=["a","s","d","w"],a=p(!1),n=B([]),v=B([]),b=p(0),$=null,u=()=>{this.$refs.dataInp0.value="",this.$refs.dataInp1.value="",this.$refs.dataInp2.value="",this.$refs.dataInp3.value=""},h=()=>{this.$refs.dataInp0.classList.remove("otp-input-correct"),this.$refs.dataInp1.classList.remove("otp-input-correct"),this.$refs.dataInp2.classList.remove("otp-input-correct"),this.$refs.dataInp3.classList.remove("otp-input-correct")},c=()=>{this.$refs.dataInp0.classList.add("otp-input-wrong"),this.$refs.dataInp1.classList.add("otp-input-wrong"),this.$refs.dataInp2.classList.add("otp-input-wrong"),this.$refs.dataInp3.classList.add("otp-input-wrong")},f=()=>{this.timerStop=setInterval(()=>{if(this.countTimer++,this.countTimer>=500){this.clearClassCorrectDataInp(),this.addClassWrongDataInp();const d=setInterval(()=>{this.clearClassCorrectDataInp(),this.clearClassWrongDataInp(),this.$refs.dataInp0.disabled=!0,this.$refs.dataInp1.disabled=!0,this.$refs.dataInp2.disabled=!0,this.$refs.dataInp3.disabled=!0,this.visibleCard=!1,this.dataSetDefault(),clearInterval(d)},1e3);clearInterval(this.timerStop)}},1)},l=()=>{this.$refs.dataInp0.classList.remove("otp-input-wrong"),this.$refs.dataInp1.classList.remove("otp-input-wrong"),this.$refs.dataInp2.classList.remove("otp-input-wrong"),this.$refs.dataInp3.classList.remove("otp-input-wrong")},I=()=>{this.setDataBinding=[],this.indexDataBinding=0;for(let d=0;d<4;d++){let g=this.defaultDataBinding[Math.floor(Math.random()*this.defaultDataBinding.length)],e=this.defaultDataBinding[Math.floor(Math.random()*this.defaultDataBinding.length)],w=this.defaultDataBinding[Math.floor(Math.random()*this.defaultDataBinding.length)],T=this.defaultDataBinding[Math.floor(Math.random()*this.defaultDataBinding.length)],y=[g,e,w,T];this.dataValue.push([]),this.setDataBinding.push(y)}this.timer=Date.now()+2500,this.$nextTick(()=>{this.$refs.dataInp0.disabled=!1,this.$refs.dataInp0.focus(),this.clearDataInp(),this.countTimer=0})};return{timerStop:$,addClassWrongDataInp:c,setTimer:f,countTimer:b,modal1Visible:a,defaultDataBinding:t,setDataBinding:n,clearDataInp:u,indexDataBinding:p(0),timer:Date.now()+1e3,visibleCard:p(!1),secTimer:p(),dataSetDefault:I,dataValue:v,clearClassCorrectDataInp:h,clearClassWrongDataInp:l}},methods:{setCardVisible:async function(t){this.modal1Visible=t,this.visibleCard=!1},setModal1Visible:async function(t){let a=3;this.countTimer=0,this.secTimer=a;const n=setInterval(()=>{a--,this.secTimer=a,a===0&&(clearInterval(n),this.visibleCard=t,this.setTimer(),this.dataSetDefault())},1e3)},setInput:function(t,a){if(t.target.value!=this.setDataBinding[this.indexDataBinding][a]){this.$refs["dataInp"+a].classList.add("otp-input-wrong"),this.$refs["dataInp"+a].disabled=!0,clearInterval(this.timerStop);const n=setInterval(()=>{this.clearClassCorrectDataInp(),this.clearClassWrongDataInp(),this.visibleCard=!1,this.dataSetDefault(),clearInterval(n)},1500)}else if(this.$refs["dataInp"+a].classList.add("otp-input-correct"),a==3)if(clearInterval(this.timerStop),this.indexDataBinding!=3){this.clearDataInp(),this.$refs["dataInp"+a].disabled=!0;const n=setInterval(()=>{this.clearClassCorrectDataInp(),this.clearClassWrongDataInp(),this.$refs.dataInp0.disabled=!1,this.$refs.dataInp0.focus(),this.indexDataBinding=this.indexDataBinding+1,this.countTimer=0,this.setTimer(),clearInterval(n)},500)}else{this.$refs["dataInp"+a].disabled=!0;const n=setInterval(()=>{this.clearClassCorrectDataInp(),this.clearClassWrongDataInp(),this.visibleCard=!1,this.dataSetDefault(),clearInterval(n)},1500)}else this.$refs["dataInp"+(a+1)].disabled=!1,this.$refs["dataInp"+a].disabled=!0,this.$refs["dataInp"+(a+1)].focus()}},mounted(){clearInterval(this.timerStop)},computed:{}}),N=["placeholder"],F=["placeholder"],G=["placeholder"],E=["placeholder"];function U(t,a,n,v,b,$){const u=i("a-button"),h=i("a-col"),c=i("a-row"),f=i("a-typography-text"),l=i("a-step"),I=i("a-steps"),d=i("a-progress"),g=i("a-card");return L(),V(M,null,[s(c,{gutter:[8,16]},{default:o(()=>[s(h,{span:12},{default:o(()=>[s(u,{type:"primary",onClick:a[0]||(a[0]=e=>t.setCardVisible(!t.modal1Visible))},{default:o(()=>[C(" Test ")]),_:1})]),_:1})]),_:1}),m(s(g,{style:{"text-align":"center"}},{default:o(()=>[m(r("div",null,[s(u,{type:"primary",onClick:a[1]||(a[1]=e=>t.setModal1Visible(!t.visibleCard))},{default:o(()=>[C(" start ")]),_:1}),s(f,{strong:""})],512),[[D,!t.visibleCard]]),m(r("div",null,[s(I,{current:t.indexDataBinding,"onUpdate:current":a[2]||(a[2]=e=>t.indexDataBinding=e),disabled:!0},{default:o(()=>[s(l,{title:"",description:"",disabled:!0}),s(l,{title:"",description:"",disabled:!0}),s(l,{title:"",description:"",disabled:!0}),s(l,{title:"",description:"",disabled:!0})]),_:1},8,["current"]),r("input",{onInput:a[3]||(a[3]=e=>t.setInput(e,0)),disabled:!1,ref:"dataInp0",class:"otp-input",type:"text",maxlength:1,placeholder:t.setDataBinding.length!=0?t.setDataBinding[t.indexDataBinding][0]:""},null,40,N),r("input",{onInput:a[4]||(a[4]=e=>t.setInput(e,1)),disabled:!0,ref:"dataInp1",class:"otp-input",type:"text",maxlength:1,placeholder:t.setDataBinding.length!=0?t.setDataBinding[t.indexDataBinding][1]:""},null,40,F),r("input",{onInput:a[5]||(a[5]=e=>t.setInput(e,2)),disabled:!0,ref:"dataInp2",class:"otp-input",type:"text",maxlength:1,placeholder:t.setDataBinding.length!=0?t.setDataBinding[t.indexDataBinding][2]:""},null,40,G),r("input",{onInput:a[6]||(a[6]=e=>t.setInput(e,3)),disabled:!0,ref:"dataInp3",class:"otp-input",type:"text",maxlength:1,placeholder:t.setDataBinding.length!=0?t.setDataBinding[t.indexDataBinding][3]:""},null,40,E),s(d,{percent:t.countTimer*100/500,status:"active",style:{"min-width":"50px"},showInfo:!1},null,8,["percent"])],512),[[D,t.visibleCard]]),r("div",null,W(t.secTimer),1)]),_:1},512),[[D,t.modal1Visible]])],64)}const q=_(k,[["render",U],["__scopeId","data-v-90822e3e"]]);export{q as default};
