import{b as a,A as V,_ as k,d as P,r as l,o as W,c as j,w as i,e as _,v as B,F as N,P as A,f as h,g as y,h as S,a as p,t as E}from"./index-a7dc659d.js";var F={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"};const G=F;function M(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(d){return Object.getOwnPropertyDescriptor(n,d).enumerable}))),o.forEach(function(d){z(t,d,n[d])})}return t}function z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var T=function(e,n){var o=M({},e,n.attrs);return a(V,M({},o,{icon:G}),null)};T.displayName="MinusOutlined";T.inheritAttrs=!1;const H=T;const U=P({components:{MinusOutlined:H,PlusOutlined:A},data(){const t=["a","s","d","w"],e=h(!1),n=y([]),o=y([]),d=h(0),w=null,f=500,g=()=>{this.$refs.dataInp0.value="",this.$refs.dataInp1.value="",this.$refs.dataInp2.value="",this.$refs.dataInp3.value=""},u=()=>{this.$refs.dataInp0.classList.remove("otp-input-correct"),this.$refs.dataInp1.classList.remove("otp-input-correct"),this.$refs.dataInp2.classList.remove("otp-input-correct"),this.$refs.dataInp3.classList.remove("otp-input-correct")},I=()=>{this.$refs.dataInp0.classList.add("otp-input-wrong"),this.$refs.dataInp1.classList.add("otp-input-wrong"),this.$refs.dataInp2.classList.add("otp-input-wrong"),this.$refs.dataInp3.classList.add("otp-input-wrong")},c=()=>{this.timerStop=setInterval(()=>{if(this.countTimer++,this.countTimer>=this.defaultTime){this.clearClassCorrectDataInp(),this.addClassWrongDataInp();const s=setInterval(()=>{this.clearClassCorrectDataInp(),this.clearClassWrongDataInp(),this.$refs.dataInp0.disabled=!0,this.$refs.dataInp1.disabled=!0,this.$refs.dataInp2.disabled=!0,this.$refs.dataInp3.disabled=!0,this.visibleCard=!1,this.dataSetDefault(),clearInterval(s)},1e3);clearInterval(this.timerStop)}},1)},v=()=>{this.$refs.dataInp0.classList.remove("otp-input-wrong"),this.$refs.dataInp1.classList.remove("otp-input-wrong"),this.$refs.dataInp2.classList.remove("otp-input-wrong"),this.$refs.dataInp3.classList.remove("otp-input-wrong")},D=()=>{this.setDataBinding=[],this.indexDataBinding=0;for(let s=0;s<4;s++){let $=this.defaultDataBinding[Math.floor(Math.random()*this.defaultDataBinding.length)],C=this.defaultDataBinding[Math.floor(Math.random()*this.defaultDataBinding.length)],r=this.defaultDataBinding[Math.floor(Math.random()*this.defaultDataBinding.length)],O=this.defaultDataBinding[Math.floor(Math.random()*this.defaultDataBinding.length)],L=[$,C,r,O];this.dataValue.push([]),this.setDataBinding.push(L)}this.timer=Date.now()+2500,this.$nextTick(()=>{this.$refs.dataInp0.disabled=!1,this.$refs.dataInp0.focus(),this.clearDataInp(),this.countTimer=0})},m=()=>{const s=this.defaultTime+100;this.defaultTime=s>=1e3?1e3:s},b=()=>{const s=this.defaultTime-100;this.defaultTime=s<=300?300:s};return{timerStop:w,addClassWrongDataInp:I,setTimer:c,defaultTime:f,countTimer:d,modal1Visible:e,defaultDataBinding:t,setDataBinding:n,clearDataInp:g,indexDataBinding:h(0),timer:Date.now()+1e3,visibleCard:h(!1),secTimer:h(),dataSetDefault:D,dataValue:o,clearClassCorrectDataInp:u,clearClassWrongDataInp:v,increase:m,decline:b}},methods:{setCardVisible:async function(t){this.modal1Visible=t,this.visibleCard=!1},setModal1Visible:async function(t){let e=3;this.countTimer=0,this.secTimer=e;const n=setInterval(()=>{e--,this.secTimer=e,e===0&&(clearInterval(n),this.visibleCard=t,this.setTimer(),this.dataSetDefault())},1e3)},setInput:function(t,e){if(t.target.value!=this.setDataBinding[this.indexDataBinding][e]){this.$refs["dataInp"+e].classList.add("otp-input-wrong"),this.$refs["dataInp"+e].disabled=!0,clearInterval(this.timerStop);const n=setInterval(()=>{this.clearClassCorrectDataInp(),this.clearClassWrongDataInp(),this.visibleCard=!1,this.dataSetDefault(),clearInterval(n)},1500)}else if(this.$refs["dataInp"+e].classList.add("otp-input-correct"),e==3)if(clearInterval(this.timerStop),this.indexDataBinding!=3){this.clearDataInp(),this.$refs["dataInp"+e].disabled=!0;const n=setInterval(()=>{this.clearClassCorrectDataInp(),this.clearClassWrongDataInp(),this.$refs.dataInp0.disabled=!1,this.$refs.dataInp0.focus(),this.indexDataBinding=this.indexDataBinding+1,this.countTimer=0,this.setTimer(),clearInterval(n)},500)}else{this.$refs["dataInp"+e].disabled=!0;const n=setInterval(()=>{this.clearClassCorrectDataInp(),this.clearClassWrongDataInp(),this.visibleCard=!1,this.dataSetDefault(),clearInterval(n)},1500)}else this.$refs["dataInp"+(e+1)].disabled=!1,this.$refs["dataInp"+e].disabled=!0,this.$refs["dataInp"+(e+1)].focus()}},mounted(){clearInterval(this.timerStop)},computed:{}}),q=["placeholder"],J=["placeholder"],Q=["placeholder"],R=["placeholder"],X={style:{color:"white"}};function Y(t,e,n,o,d,w){const f=l("a-progress"),g=l("a-space"),u=l("a-col"),I=l("minus-outlined"),c=l("a-button"),v=l("plus-outlined"),D=l("a-button-group"),m=l("a-row"),b=l("a-typography-text"),s=l("a-step"),$=l("a-steps"),C=l("a-card");return W(),j(N,null,[a(m,{gutter:[8,16]},{default:i(()=>[a(u,{span:24,style:{"margin-bottom":"10px"}},{default:i(()=>[a(m,{gutter:[8,16]},{default:i(()=>[a(u,{span:12,offset:6},{default:i(()=>[a(g,{align:"center"},{default:i(()=>[a(f,{percent:t.defaultTime*100/1e3,steps:10},null,8,["percent"])]),_:1})]),_:1}),a(u,{span:24},{default:i(()=>[a(D,null,{default:i(()=>[a(c,{onClick:t.decline},{icon:i(()=>[a(I)]),_:1},8,["onClick"]),a(c,{onClick:t.increase},{icon:i(()=>[a(v)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1}),a(u,{span:24,style:{"margin-bottom":"10px"}},{default:i(()=>[a(c,{type:"primary",onClick:e[0]||(e[0]=r=>t.setCardVisible(!t.modal1Visible))},{default:i(()=>[S(" Test ")]),_:1})]),_:1})]),_:1}),_(a(C,{style:{"text-align":"center","background-color":"rgb(0 49 96)"}},{default:i(()=>[_(p("div",null,[a(c,{type:"primary",onClick:e[1]||(e[1]=r=>t.setModal1Visible(!t.visibleCard))},{default:i(()=>[S(" start ")]),_:1}),a(b,{strong:""})],512),[[B,!t.visibleCard]]),_(p("div",null,[a($,{current:t.indexDataBinding,"onUpdate:current":e[2]||(e[2]=r=>t.indexDataBinding=r),disabled:!0},{default:i(()=>[a(s,{title:"",description:"",disabled:!0}),a(s,{title:"",description:"",disabled:!0}),a(s,{title:"",description:"",disabled:!0}),a(s,{title:"",description:"",disabled:!0})]),_:1},8,["current"]),p("input",{onInput:e[3]||(e[3]=r=>t.setInput(r,0)),disabled:!1,ref:"dataInp0",class:"otp-input",type:"text",maxlength:1,placeholder:t.setDataBinding.length!=0?t.setDataBinding[t.indexDataBinding][0]:""},null,40,q),p("input",{onInput:e[4]||(e[4]=r=>t.setInput(r,1)),disabled:!0,ref:"dataInp1",class:"otp-input",type:"text",maxlength:1,placeholder:t.setDataBinding.length!=0?t.setDataBinding[t.indexDataBinding][1]:""},null,40,J),p("input",{onInput:e[5]||(e[5]=r=>t.setInput(r,2)),disabled:!0,ref:"dataInp2",class:"otp-input",type:"text",maxlength:1,placeholder:t.setDataBinding.length!=0?t.setDataBinding[t.indexDataBinding][2]:""},null,40,Q),p("input",{onInput:e[6]||(e[6]=r=>t.setInput(r,3)),disabled:!0,ref:"dataInp3",class:"otp-input",type:"text",maxlength:1,placeholder:t.setDataBinding.length!=0?t.setDataBinding[t.indexDataBinding][3]:""},null,40,R),a(f,{percent:t.countTimer*100/t.defaultTime,status:"active",style:{"min-width":"50px"},showInfo:!1},null,8,["percent"])],512),[[B,t.visibleCard]]),p("div",X,E(t.secTimer),1)]),_:1},512),[[B,t.modal1Visible]])],64)}const K=k(U,[["render",Y],["__scopeId","data-v-83bd4e80"]]);export{K as default};
